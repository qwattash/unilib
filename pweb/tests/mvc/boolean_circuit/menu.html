<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../css/unittest.css"/>
<title>UI test</title>
<script type="text/JavaScript" src="../../../js/unilib/base.php"></script>
<script type="text/JavaScript">
  unilib.include('unilib/mvc/boolean_circuit_graph/boolean_circuit_controller.js');
  
  var __init__ = function() {
    console.log('[+] initialising logical network graph');
    var container = document.getElementById('container');
    var ctrl = new unilib.mvc.bc.controller.BooleanCircuitController(container);

   var styleProvider = ctrl.styleProvider;
    var textStyle = new unilib.graphics.StyleInformations();
    textStyle.textSize = 10;
    var mTextStyle = new unilib.graphics.StyleInformations();
    mTextStyle.textSize = 10;
    mTextStyle.backgroundColor = '#AAAA44';
    var menuStyle = new unilib.graphics.StyleInformations();
    menuStyle.lineWidth = 1;
    menuStyle.backgroundColor = '#AAAA44';
    var nodeStyle = new unilib.graphics.StyleInformations();
    nodeStyle.backgroundColor = '#44AAAA';
    var nodeFocusStyle = new unilib.graphics.StyleInformations();
    nodeFocusStyle.backgroundColor = '#228888';
    var pinStyle = new unilib.graphics.StyleInformations();
    pinStyle.backgroundColor = '#AAAA44';
    var pinFocusStyle = new unilib.graphics.StyleInformations();
    pinFocusStyle.backgroundColor = '#888822';
    var edgeStyle = new unilib.graphics.StyleInformations();
    edgeStyle.lineColor = '#AA4444';
    edgeStyle.lineWidth = 5;
    var edgeFocusStyle = new unilib.graphics.StyleInformations();
    edgeFocusStyle.lineColor = '#FF8888';
    edgeFocusStyle.lineWidth = 5;
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.INPUT_NODE, unilib.mvc.bc.StyleType.TEXT, textStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.INPUT_NODE, unilib.mvc.bc.StyleType.BODY, nodeStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.INPUT_NODE, unilib.mvc.bc.StyleType.TEXT_FOCUS, textStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.INPUT_NODE, unilib.mvc.bc.StyleType.BODY_FOCUS, nodeFocusStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.PIN, unilib.mvc.bc.StyleType.BODY, pinStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.PIN, unilib.mvc.bc.StyleType.TEXT, textStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.PIN, unilib.mvc.bc.StyleType.BODY_FOCUS, pinFocusStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.PIN, unilib.mvc.bc.StyleType.TEXT_FOCUS, textStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.EDGE, unilib.mvc.bc.StyleType.BODY, edgeStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.EDGE, unilib.mvc.bc.StyleType.TEXT, textStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.EDGE, unilib.mvc.bc.StyleType.BODY_FOCUS, edgeFocusStyle);
    styleProvider.registerStyle(unilib.mvc.bc.GraphElementType.EDGE, unilib.mvc.bc.StyleType.TEXT_FOCUS, textStyle);
    styleProvider.registerStyle(unilib.mvc.menu.MenuType.MENU, unilib.mvc.bc.StyleType.BODY, menuStyle);
    styleProvider.registerStyle(unilib.mvc.menu.MenuType.MENU, unilib.mvc.bc.StyleType.TEXT, mTextStyle);

   var model = ctrl.graphModel;
   console.log('[+] populating the graph');
   var node1 = model.makeNode();
   node1.setID(unilib.mvc.bc.GraphElementType.INPUT_NODE);
   var data = node1.getData();
   data.position.x = 10;
   data.position.y = 10;
   data.position.z = 0;
   data.points = [new unilib.geometry.Point(0, 0), new unilib.geometry.Point(50, 50)];
   data.text = "Node 1";
   node1.setData(data);
   var pin = node1.makePin();
   pin.setID(unilib.mvc.bc.GraphElementType.PIN);
   data = pin.getData();
   data.position.x = 5;
   data.position.y = 5;
   data.position.z = 2;
   data.points = [new unilib.geometry.Point(0, 0), new unilib.geometry.Point(10, 10)];
   data.text = "";
   pin.setData(data);
   
   var node2 = model.makeNode();
   node2.setID(unilib.mvc.bc.GraphElementType.INPUT_NODE);
   var data = node2.getData();
   data.position.x = 100;
   data.position.y = 100;
   data.position.z = 0;
   data.points = [new unilib.geometry.Point(0, 0), new unilib.geometry.Point(50, 50)];
   data.text = "Node 2";
   node2.setData(data);
   pin = node2.makePin();
   pin.setID(unilib.mvc.bc.GraphElementType.PIN);
   data = pin.getData();
   data.position.x = 95;
   data.position.y = 95;
   data.position.z = 2;
   data.points = [new unilib.geometry.Point(0, 0), new unilib.geometry.Point(10, 10)];
   data.text = "";
   pin.setData(data);
   
   var node3 = model.makeNode();
   node3.setID(unilib.mvc.bc.GraphElementType.INPUT_NODE);
   var data = node3.getData();
   data.position.x = 180;
   data.position.y = 100;
   data.position.z = 0;
   data.points = [new unilib.geometry.Point(0, 0), new unilib.geometry.Point(50, 50)];
   data.text = "Node 3";
   node3.setData(data);
   pin = node3.makePin();
   pin.setID(unilib.mvc.bc.GraphElementType.PIN);
   data = pin.getData();
   data.position.x = 175;
   data.position.y = 95;
   data.position.z = 2;
   data.points = [new unilib.geometry.Point(0, 0), new unilib.geometry.Point(10, 10)];
   data.text = "";
   pin.setData(data);
   
   model.notify();
   
   console.log('[+] leaving control to the user');
  };
  unilib.dependencyManager.addEventListener('load', __init__);
</script>
</head>
<body>
  <div id='container' class='test-output-container-big'></div>
  <div id='unittest'></div>
</body>
</html>





